import{b as u,j as s,c as as,n as Ps}from"./theme-provider-Cr7NOLPU.js";import{C as Ye,S as os,B as Xe}from"./scroll-area-1ssVstT4.js";import{c as Qe,h as _s,P as ys,r as ks,s as Is,H as Ts,d as y,t as Ke,C as _,e as k,B as O,a as ze,b as He,v as Ds}from"./App-DVLCLnW2.js";import{f as $s,S as Ms,G as Es,H as Gs,E as Rs,l as is,P as cs,h as qe,i as Pe,j as ds,k as ms,d as us}from"./id-D800pGYJ.js";import{I as Le}from"./input-CvXsPVmF.js";import{L as g}from"./label-BiwBe9Ab.js";import{b as _e,a as xs,T as Je,d as ps}from"./tabs-Cx4pMt4R.js";import{T as Ze}from"./textarea-Bt_1WTGj.js";import{t as b}from"./index-oswWPzvh.js";import{T as es}from"./trending-up-rnJRdRqa.js";import{T as hs}from"./trending-down-DUE8oylr.js";import{P as Fs}from"./plus-BGqjiJgp.js";import"./index-DtNQoUsX.js";/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],gs=Qe("coins",Os);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],ss=Qe("piggy-bank",Vs);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fs=Qe("target",zs);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],Ls=Qe("wallet-minimal",Hs);var ts="Progress",ls=100,[Bs,ha]=_s(ts),[Qs,Ws]=Bs(ts),Ss=u.forwardRef((e,a)=>{const{__scopeProgress:h,value:l=null,max:n,getValueLabel:o=Us,...c}=e;(n||n===0)&&!vs(n)&&console.error(Ys(`${n}`,"Progress"));const i=vs(n)?n:ls;l!==null&&!js(l,i)&&console.error(Xs(`${l}`,"Progress"));const r=js(l,i)?l:null,S=Be(r)?o(r,i):void 0;return s.jsx(Qs,{scope:h,value:r,max:i,children:s.jsx(ys.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":Be(r)?r:void 0,"aria-valuetext":S,role:"progressbar","data-state":As(r,i),"data-value":r??void 0,"data-max":i,...c,ref:a})})});Ss.displayName=ts;var ws="ProgressIndicator",Cs=u.forwardRef((e,a)=>{const{__scopeProgress:h,...l}=e,n=Ws(ws,h);return s.jsx(ys.div,{"data-state":As(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...l,ref:a})});Cs.displayName=ws;function Us(e,a){return`${Math.round(e/a*100)}%`}function As(e,a){return e==null?"indeterminate":e===a?"complete":"loading"}function Be(e){return typeof e=="number"}function vs(e){return Be(e)&&!isNaN(e)&&e>0}function js(e,a){return Be(e)&&!isNaN(e)&&e<=a&&e>=0}function Ys(e,a){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ls}\`.`}function Xs(e,a){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ls} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ks=Ss,qs=Cs;function Ns(e){const a=as.c(12);let h,l,n;a[0]!==e?({className:h,value:n,...l}=e,a[0]=e,a[1]=h,a[2]=l,a[3]=n):(h=a[1],l=a[2],n=a[3]);let o;a[4]!==h?(o=ks("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",h),a[4]=h,a[5]=o):o=a[5];const c=`translateX(-${100-(n||0)}%)`;let i;a[6]!==c?(i=s.jsx(qs,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:c}}),a[6]=c,a[7]=i):i=a[7];let r;return a[8]!==l||a[9]!==o||a[10]!==i?(r=s.jsx(Ks,{"data-slot":"progress",className:o,...l,children:i}),a[8]=l,a[9]=o,a[10]=i,a[11]=r):r=a[11],r}const bs=[{icon:Is,label:"Food & Drink",value:"food"},{icon:$s,label:"Transport",value:"transport"},{icon:Ms,label:"Shopping",value:"shopping"},{icon:Ts,label:"Home",value:"home"},{icon:Es,label:"Entertainment",value:"entertainment"},{icon:Gs,label:"Health",value:"health"},{icon:Rs,label:"Others",value:"others"}],Js=[1e4,25e3,5e4,1e5,25e4,5e5];function Zs(e){const[a,h]=Ps(),l=a.get("tab")||"expense",[n,o]=u.useState(l),[c,i]=u.useState(""),[r,S]=u.useState(new Date),[ye,Se]=u.useState(!1),[V,j]=u.useState(!1),[D,z]=u.useState(""),[H,w]=u.useState(""),[$,L]=u.useState(""),[B,p]=u.useState(""),[C,we]=u.useState("add"),[A,P]=u.useState(""),[I,Q]=u.useState(""),[W,T]=u.useState(""),[U,Y]=u.useState(),[X,M]=u.useState("");u.useEffect(()=>{h({tab:n})},[n,h]);const{data:d}=y.useQuery({categories:{$:{where:{userId:e}}},savings:{$:{where:{userId:e,isCompleted:!1},order:{serverCreatedAt:"desc"}}}}),Ce=(d==null?void 0:d.categories)||[],E=(d==null?void 0:d.savings)||[],N=E.find(m=>m.id===A),K=m=>{i(m.toString())},x=m=>{const f=parseInt(m.replace(/\D/g,""));return isNaN(f)?"":new Intl.NumberFormat("id-ID").format(f)},Ae=m=>{const f=m.replace(/\D/g,"");i(f)},G=()=>{i(""),z(""),w(""),L(""),p(""),P(""),Q(""),T(""),Y(void 0),M(""),S(new Date)};return{activeTab:n,setActiveTab:o,amount:c,setAmount:i,selectedDate:r,setSelectedDate:S,isCalendarOpen:ye,setIsCalendarOpen:Se,isSubmitting:V,setIsSubmitting:j,incomeSource:D,setIncomeSource:z,incomeNotes:H,setIncomeNotes:w,expenseType:$,setExpenseType:L,expenseNotes:B,setExpenseNotes:p,savingMode:C,setSavingMode:we,selectedSavingId:A,setSelectedSavingId:P,savingGoalName:I,setSavingGoalName:Q,savingGoalAmount:W,setSavingGoalAmount:T,savingTargetDate:U,setSavingTargetDate:Y,savingNotes:X,setSavingNotes:M,data:d,categories:Ce,savingsGoals:E,selectedSaving:N,handleQuickAmount:K,formatCurrency:x,handleAmountChange:Ae,resetForm:G,handleSubmit:async()=>{if(!c||parseInt(c)<=0){b.error("Please enter a valid amount");return}j(!0);try{if(n==="income"){if(!D.trim()){b.error("Please enter income source");return}await y.transact([y.tx.incomes[Ke()].update({userId:e,source:D,amount:parseInt(c),date:r,notes:H||void 0,createdAt:new Date})]),b.success(`Income of Rp ${x(c)} added`)}else if(n==="expense"){if(!$){b.error("Please select expense type");return}await y.transact([y.tx.expenses[Ke()].update({userId:e,type:$,amount:parseInt(c),date:r,notes:B||void 0,createdAt:new Date})]),b.success(`Expense of Rp ${x(c)} added`)}else if(n==="saving")if(C==="create"){if(!I.trim()){b.error("Please enter saving goal name");return}const m=parseInt(W)||parseInt(c);await y.transact([y.tx.savings[Ke()].update({userId:e,goalName:I,goalAmount:m,currentAmount:0,targetDate:U||void 0,notes:X||void 0,isCompleted:!1,createdAt:new Date})]),b.success(`Saving goal "${I}" created`)}else{if(!A){b.error("Please select a saving goal");return}if(!N)return;const m=N.currentAmount+parseInt(c),f=m>=N.goalAmount;await y.transact([y.tx.savings[A].update({currentAmount:m,isCompleted:f})]),b.success(f?`Congratulations! You've reached your "${N.goalName}" goal!`:`Added Rp ${x(c)} to "${N.goalName}"`)}G()}catch{b.error("Failed to add transaction. Please try again.")}finally{j(!1)}},quickAmounts:Js}}function ea(){const e=as.c(123),{user:a}=y.useAuth(),h=(a==null?void 0:a.id)??"",{activeTab:l,setActiveTab:n,amount:o,handleAmountChange:c,handleQuickAmount:i,formatCurrency:r,selectedDate:S,setSelectedDate:ye,isCalendarOpen:Se,setIsCalendarOpen:V,incomeSource:j,setIncomeSource:D,incomeNotes:z,setIncomeNotes:H,expenseType:w,setExpenseType:$,expenseNotes:L,setExpenseNotes:B,savingMode:p,setSavingMode:C,selectedSavingId:we,setSelectedSavingId:A,savingGoalName:P,setSavingGoalName:I,savingGoalAmount:Q,setSavingGoalAmount:W,savingTargetDate:T,setSavingTargetDate:U,savingNotes:Y,setSavingNotes:X,savingsGoals:M,selectedSaving:d,handleSubmit:Ce,isSubmitting:E,quickAmounts:N}=Zs(h);let K;e[0]!==w?(K=bs.find(t=>t.value===w),e[0]=w,e[1]=K):K=e[1];const x=K,Ae=(x==null?void 0:x.icon)||Ls;let G;e[2]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-foreground mb-2 text-2xl font-bold",children:"Quick Add"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Track your money in seconds âš¡"})]}),e[2]=G):G=e[2];let R;e[3]!==n?(R=t=>n(t),e[3]=n,e[4]=R):R=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs(_e,{value:"income",className:"flex items-center gap-2",children:[s.jsx(es,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Income"})]}),e[5]=m):m=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsxs(_e,{value:"expense",className:"flex items-center gap-2",children:[s.jsx(hs,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Expense"})]}),e[6]=f):f=e[6];let ke;e[7]===Symbol.for("react.memo_cache_sentinel")?(ke=s.jsxs(xs,{className:"grid w-full grid-cols-3",children:[m,f,s.jsxs(_e,{value:"saving",className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Saving"})]})]}),e[7]=ke):ke=e[7];let Ie;e[8]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx(g,{htmlFor:"amount",className:"text-muted-foreground text-sm",children:"Amount"}),e[8]=Ie):Ie=e[8];let Te;e[9]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsx("span",{className:"text-muted-foreground absolute top-1/2 left-3 -translate-y-1/2 transform",children:"Rp"}),e[9]=Te):Te=e[9];let q;e[10]!==o||e[11]!==r?(q=r(o),e[10]=o,e[11]=r,e[12]=q):q=e[12];let J;e[13]!==c?(J=t=>c(t.target.value),e[13]=c,e[14]=J):J=e[14];let Z;e[15]!==q||e[16]!==J?(Z=s.jsxs("div",{className:"text-center",children:[Ie,s.jsxs("div",{className:"relative mt-2",children:[Te,s.jsx(Le,{id:"amount",placeholder:"0",value:q,onChange:J,className:"h-16 pr-4 pl-12 text-center text-3xl font-bold"})]})]}),e[15]=q,e[16]=J,e[17]=Z):Z=e[17];let ee;if(e[18]!==i||e[19]!==N){let t;e[21]!==i?(t=v=>s.jsx(O,{variant:"outline",size:"sm",onClick:()=>i(v),className:"text-xs",children:v>=1e6?`${v/1e6}M`:`${v/1e3}K`},v),e[21]=i,e[22]=t):t=e[22],ee=N.map(t),e[18]=i,e[19]=N,e[20]=ee}else ee=e[20];let se;e[23]!==ee?(se=s.jsx("div",{className:"grid grid-cols-3 gap-2",children:ee}),e[23]=ee,e[24]=se):se=e[24];let ae;e[25]!==Z||e[26]!==se?(ae=s.jsx(_,{children:s.jsx(k,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[Z,se]})})}),e[25]=Z,e[26]=se,e[27]=ae):ae=e[27];let te;e[28]!==l||e[29]!==Se||e[30]!==S||e[31]!==V||e[32]!==ye?(te=l!=="saving"&&s.jsx(_,{children:s.jsxs(k,{className:"pt-6",children:[s.jsx(g,{className:"text-muted-foreground text-sm",children:"Date"}),s.jsxs(is,{open:Se,onOpenChange:V,children:[s.jsx(cs,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"mt-2 w-full justify-start",children:[s.jsx(Ye,{className:"mr-2 h-4 w-4"}),qe(S,"PPP",{locale:Pe})]})}),s.jsx(ds,{className:"w-auto p-0",align:"start",children:s.jsx(ms,{mode:"single",selected:S,onSelect:t=>{t&&(ye(t),V(!1))},locale:Pe})})]})]})}),e[28]=l,e[29]=Se,e[30]=S,e[31]=V,e[32]=ye,e[33]=te):te=e[33];let De;e[34]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(ze,{children:s.jsxs(He,{className:"flex items-center gap-2 text-green-600",children:[s.jsx(es,{className:"h-5 w-5"}),"Income Details"]})}),e[34]=De):De=e[34];let $e;e[35]===Symbol.for("react.memo_cache_sentinel")?($e=s.jsx(g,{htmlFor:"source",children:"Income Source *"}),e[35]=$e):$e=e[35];let le;e[36]!==D?(le=t=>D(t.target.value),e[36]=D,e[37]=le):le=e[37];let re;e[38]!==j||e[39]!==le?(re=s.jsxs("div",{children:[$e,s.jsx(Le,{id:"source",placeholder:"e.g., Salary, Freelance, Investment",value:j,onChange:le,className:"mt-2"})]}),e[38]=j,e[39]=le,e[40]=re):re=e[40];let Me;e[41]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx(g,{htmlFor:"income-notes",children:"Notes (Optional)"}),e[41]=Me):Me=e[41];let ne;e[42]!==H?(ne=t=>H(t.target.value),e[42]=H,e[43]=ne):ne=e[43];let oe;e[44]!==z||e[45]!==ne?(oe=s.jsxs("div",{children:[Me,s.jsx(Ze,{id:"income-notes",placeholder:"Add any additional details...",value:z,onChange:ne,className:"mt-2 resize-none",rows:3})]}),e[44]=z,e[45]=ne,e[46]=oe):oe=e[46];let ie;e[47]!==re||e[48]!==oe?(ie=s.jsx(Je,{value:"income",className:"space-y-4",children:s.jsxs(_,{children:[De,s.jsxs(k,{className:"space-y-4",children:[re,oe]})]})}),e[47]=re,e[48]=oe,e[49]=ie):ie=e[49];let Ee;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(ze,{children:s.jsxs(He,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(hs,{className:"h-5 w-5"}),"Expense Details"]})}),e[50]=Ee):Ee=e[50];let Ge;e[51]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx(g,{children:"Category *"}),e[51]=Ge):Ge=e[51];let ce;e[52]!==w||e[53]!==$?(ce=bs.map(t=>{const v=t.icon,F=w===t.value;return s.jsxs(O,{variant:F?"default":"outline",className:`relative flex h-auto flex-col gap-2 p-3 ${F?"bg-red-500 text-white hover:bg-red-600":""}`,onClick:()=>$(t.value),children:[s.jsx(v,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:t.label}),F&&s.jsx(us,{className:"absolute top-2 right-2 h-3 w-3"})]},t.value)}),e[52]=w,e[53]=$,e[54]=ce):ce=e[54];let de;e[55]!==ce?(de=s.jsxs("div",{children:[Ge,s.jsx(os,{className:"mt-2 h-32 w-full",children:s.jsx("div",{className:"grid grid-cols-2 gap-2 p-1",children:ce})})]}),e[55]=ce,e[56]=de):de=e[56];let Re;e[57]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(g,{htmlFor:"expense-notes",children:"Notes (Optional)"}),e[57]=Re):Re=e[57];let me;e[58]!==B?(me=t=>B(t.target.value),e[58]=B,e[59]=me):me=e[59];let ue;e[60]!==L||e[61]!==me?(ue=s.jsxs("div",{children:[Re,s.jsx(Ze,{id:"expense-notes",placeholder:"What did you buy? Where?",value:L,onChange:me,className:"mt-2 resize-none",rows:3})]}),e[60]=L,e[61]=me,e[62]=ue):ue=e[62];let xe;e[63]!==de||e[64]!==ue?(xe=s.jsx(Je,{value:"expense",className:"space-y-4",children:s.jsxs(_,{children:[Ee,s.jsxs(k,{className:"space-y-4",children:[de,ue]})]})}),e[63]=de,e[64]=ue,e[65]=xe):xe=e[65];let pe;e[66]!==C?(pe=t=>C(t),e[66]=C,e[67]=pe):pe=e[67];let Fe;e[68]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsxs(_e,{value:"add",className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4 text-purple-500"}),s.jsx(g,{children:"My Goals"})]}),e[68]=Fe):Fe=e[68];let Oe;e[69]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsxs(xs,{className:"grid w-full grid-cols-2",children:[Fe,s.jsxs(_e,{value:"create",className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-purple-500"}),s.jsx(g,{children:"Create new goal"})]})]}),e[69]=Oe):Oe=e[69];let he;e[70]!==p||e[71]!==pe?(he=s.jsx(_,{children:s.jsx(k,{className:"",children:s.jsx(ps,{value:p,onValueChange:pe,className:"w-full",children:Oe})})}),e[70]=p,e[71]=pe,e[72]=he):he=e[72];let ge;e[73]!==o||e[74]!==r||e[75]!==Q||e[76]!==P||e[77]!==p||e[78]!==Y||e[79]!==T||e[80]!==M||e[81]!==d||e[82]!==we||e[83]!==W||e[84]!==I||e[85]!==C||e[86]!==X||e[87]!==U||e[88]!==A?(ge=p==="add"?s.jsxs(_,{children:[s.jsx(ze,{children:s.jsxs(He,{className:"flex items-center gap-2 text-purple-600",children:[s.jsx(gs,{className:"h-5 w-5"}),"Choose Your Goal"]})}),s.jsx(k,{children:M.length===0?s.jsxs("div",{className:"py-4 text-center",children:[s.jsx(ss,{className:"text-muted-foreground mx-auto mb-4 h-12 w-12"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No active saving goals"}),s.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Create your first goal to start saving!"}),s.jsxs(O,{variant:"outline",onClick:()=>C("create"),className:"border-purple-200 bg-purple-50 text-purple-700 hover:bg-purple-100",children:[s.jsx(fs,{className:"mr-2 h-4 w-4"}),"Create your first goal"]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(g,{className:"text-muted-foreground text-sm",children:"Select a saving goal to add money:"}),s.jsx(os,{className:"h-64 w-full",children:s.jsx("div",{className:"space-y-3 pr-4",children:M.map(t=>{const v=t.currentAmount/t.goalAmount*100,F=we===t.id,Ue=t.currentAmount+(o?parseInt(o):0),rs=Ue/t.goalAmount*100,ns=Ue>=t.goalAmount;return s.jsx(_,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${F?"border-purple-400 bg-purple-50 shadow-sm dark:border-purple-600 dark:bg-purple-900/30":"border-border hover:border-purple-200 dark:hover:border-purple-700"}`,onClick:()=>A(t.id),children:s.jsx(k,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-foreground font-semibold",children:t.goalName}),t.targetDate&&s.jsxs("p",{className:"text-muted-foreground mt-1 flex items-center gap-1 text-xs",children:[s.jsx(Ye,{className:"h-3 w-3"}),"Target:"," ",qe(new Date(t.targetDate),"dd MMM yyyy",{locale:Pe})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs(Xe,{variant:"secondary",className:`${v>=100?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-100"}`,children:[Math.round(v),"%"]}),F&&s.jsx(us,{className:"h-4 w-4 text-purple-600"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ns,{value:v,className:"h-2"}),s.jsxs("div",{className:"text-muted-foreground flex justify-between text-xs",children:[s.jsxs("span",{children:["Rp"," ",r(t.currentAmount.toString())]}),s.jsxs("span",{children:["Rp"," ",r(t.goalAmount.toString())]})]})]}),F&&o&&parseInt(o)>0&&s.jsx("div",{className:"mt-3 border-t border-purple-200 pt-3 dark:border-purple-700",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"After adding:"}),ns&&s.jsx(Xe,{className:"animate-pulse bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:"ðŸŽ‰ Goal Completed!"})]}),s.jsx(Ns,{value:Math.min(rs,100),className:"h-2 bg-purple-100 dark:bg-purple-900"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"font-semibold text-purple-600",children:["Rp"," ",r(Ue.toString())]}),s.jsxs("span",{className:"font-semibold text-purple-600",children:[Math.round(rs),"%"]})]}),ns&&s.jsx("div",{className:"text-center text-xs font-medium text-green-600",children:"Congratulations! You'll reach your goal! ðŸš€"})]})}),t.notes&&s.jsxs("p",{className:"text-muted-foreground text-xs italic",children:['"',t.notes,'"']})]})})},t.id)})})}),s.jsx("div",{className:"flex items-center justify-end",children:d&&s.jsx(O,{variant:"outline",size:"sm",onClick:()=>A(""),className:"px-3",children:"Clear"})})]})})]}):s.jsxs(_,{children:[s.jsx(ze,{children:s.jsxs(He,{className:"flex items-center gap-2 text-purple-600",children:[s.jsx(fs,{className:"h-5 w-5"}),"Create New Savings Goal"]})}),s.jsxs(k,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(g,{htmlFor:"goal-name",children:"Goal Name *"}),s.jsx(Le,{id:"goal-name",placeholder:"e.g., iPhone 15, Vacation, Emergency Fund",value:P,onChange:t=>I(t.target.value),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(g,{htmlFor:"goal-amount",children:"Target Amount"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx("span",{className:"text-muted-foreground absolute top-1/2 left-3 -translate-y-1/2 transform",children:"Rp"}),s.jsx(Le,{id:"goal-amount",placeholder:"Use amount above or enter different target",value:r(Q),onChange:t=>W(t.target.value.replace(/\D/g,"")),className:"pl-12"})]}),s.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:"Leave empty to use amount above as target"})]}),s.jsxs("div",{children:[s.jsx(g,{children:"Target Date (Optional)"}),s.jsxs(is,{children:[s.jsx(cs,{asChild:!0,children:s.jsxs(O,{variant:"outline",className:"mt-2 w-full justify-start",children:[s.jsx(Ye,{className:"mr-2 h-4 w-4"}),T?qe(T,"PPP",{locale:Pe}):"Select target date"]})}),s.jsx(ds,{className:"w-auto p-0",align:"start",children:s.jsx(ms,{mode:"single",selected:T,onSelect:U,disabled:sa,locale:Pe})})]})]}),s.jsxs("div",{children:[s.jsx(g,{htmlFor:"saving-notes",children:"Notes (Optional)"}),s.jsx(Ze,{id:"saving-notes",placeholder:"Why is this goal important to you?",value:Y,onChange:t=>X(t.target.value),className:"mt-2 resize-none",rows:3})]})]})]}),e[73]=o,e[74]=r,e[75]=Q,e[76]=P,e[77]=p,e[78]=Y,e[79]=T,e[80]=M,e[81]=d,e[82]=we,e[83]=W,e[84]=I,e[85]=C,e[86]=X,e[87]=U,e[88]=A,e[89]=ge):ge=e[89];let fe;e[90]!==he||e[91]!==ge?(fe=s.jsxs(Je,{value:"saving",className:"space-y-2",children:[he,ge]}),e[90]=he,e[91]=ge,e[92]=fe):fe=e[92];let ve;e[93]!==l||e[94]!==ae||e[95]!==te||e[96]!==R||e[97]!==ie||e[98]!==xe||e[99]!==fe?(ve=s.jsxs(ps,{value:l,onValueChange:R,children:[ke,ae,te,ie,xe,fe]}),e[93]=l,e[94]=ae,e[95]=te,e[96]=R,e[97]=ie,e[98]=xe,e[99]=fe,e[100]=ve):ve=e[100];const We=E||!o||parseInt(o)<=0;let je;e[101]!==l||e[102]!==E||e[103]!==p?(je=E?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),p==="add"?"Adding...":"Creating..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"h-5 w-5"}),l==="income"&&"Add Income",l==="expense"&&"Add Expense",l==="saving"&&(p==="add"?"Add to Goal":"Create Goal")]}),e[101]=l,e[102]=E,e[103]=p,e[104]=je):je=e[104];let Ne;e[105]!==Ce||e[106]!==We||e[107]!==je?(Ne=s.jsx(O,{onClick:Ce,disabled:We,className:"h-14 w-full text-lg font-semibold",size:"lg",children:je}),e[105]=Ce,e[106]=We,e[107]=je,e[108]=Ne):Ne=e[108];let be;e[109]!==Ae||e[110]!==l||e[111]!==o||e[112]!==r||e[113]!==j||e[114]!==P||e[115]!==p||e[116]!==(x==null?void 0:x.label)||e[117]!==(d==null?void 0:d.goalName)?(be=o&&parseInt(o)>0&&s.jsx(_,{className:"border-2 border-dashed",children:s.jsx(k,{className:"pt-4",children:s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l==="income"&&s.jsx(es,{className:"h-5 w-5 text-green-500"}),l==="expense"&&s.jsx(Ae,{className:"h-5 w-5 text-red-500"}),l==="saving"&&s.jsx(ss,{className:"h-5 w-5 text-purple-500"}),s.jsx(Xe,{variant:"outline",children:"Preview"})]}),s.jsxs("p",{className:"text-2xl font-bold",children:["Rp ",r(o)]}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:[l==="income"&&j,l==="expense"&&(x==null?void 0:x.label),l==="saving"&&(p==="add"?d==null?void 0:d.goalName:P)]})]})})}),e[109]=Ae,e[110]=l,e[111]=o,e[112]=r,e[113]=j,e[114]=P,e[115]=p,e[116]=x==null?void 0:x.label,e[117]=d==null?void 0:d.goalName,e[118]=be):be=e[118];let Ve;return e[119]!==ve||e[120]!==Ne||e[121]!==be?(Ve=s.jsx("div",{className:"bg-background min-h-screen p-4 pb-24",children:s.jsxs("div",{className:"mx-auto max-w-md space-y-6",children:[G,ve,Ne,be]})}),e[119]=ve,e[120]=Ne,e[121]=be,e[122]=Ve):Ve=e[122],Ve}function sa(e){return e<new Date}function ga(){const e=as.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(ea,{}),e[0]=a):a=e[0],a}export{ga as default};
